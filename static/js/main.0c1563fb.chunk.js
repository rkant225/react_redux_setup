(this.webpackJsonpredux_setup=this.webpackJsonpredux_setup||[]).push([[0],{33:function(e,t,r){},34:function(e,t,r){},60:function(e,t,r){"use strict";r.r(t);var n,s=r(0),o=r(10),c=r.n(o),a=(r(33),r(34),r(2)),i=r(1),d=function(){var e=Object(a.c)((function(e){return e.loaderModel.isLoading}));return Object(i.jsx)(i.Fragment,{children:e&&Object(i.jsx)("div",{style:{top:"0",bottom:"0",right:"0",left:"0",display:"flex",justifyContent:"center",alignItems:"center",position:"fixed",backgroundColor:"rgba(50,50,50,.8)",color:"white",overflow:"hidden"},children:"Loading..."})})},u=r(28),l=r(6),j=r(3),b={activeCustomers:[{reservationId:1635389718481,customerName:"Abhinav Singh",reservationDate:"Thu Oct 28 2021",memberCount:2,foodOrders:[{orderId:Math.random(),name:"Rice",price:Math.ceil(100*Math.random())},{orderId:Math.random(),name:"Chicken Curry",price:Math.ceil(100*Math.random())}]}]},p=Object(j.c)({name:"activeCustomers",initialState:b,reducers:{addActiveCustomer:function(e,t){e.activeCustomers.push(Object(l.a)(Object(l.a)({},t.payload),{},{foodOrders:[]}))},deleteActiveCustomer:function(e,t){var r=e.activeCustomers.filter((function(e){return e.reservationId!==t.payload}));e.activeCustomers=r},addFoodOrder:function(e,t){var r=t.payload,n=r.reservationId,s=r.orderData,o=[];e.activeCustomers.forEach((function(e){e.reservationId===n&&(e.foodOrders=[].concat(Object(u.a)(e.foodOrders),[s])),o.push(e)})),e.activeCustomers=o},deleteFoodOrder:function(e,t){var r=t.payload,n=r.reservationId,s=r.orderId,o=[];e.activeCustomers.forEach((function(e){if(e.reservationId===n){var t=e.foodOrders.filter((function(e){return e.orderId!==s}));e.foodOrders=t}o.push(e)})),e.activeCustomers=o}}}),v=p.actions,m=v.addActiveCustomer,f=v.deleteActiveCustomer,h=v.addFoodOrder,O=v.deleteFoodOrder,x=p.reducer,g=function(){var e=Object(a.b)(),t=Object(a.c)((function(e){return e.activeCustomers.activeCustomers}));return Object(i.jsx)("div",{children:Object(i.jsx)("div",{style:{backgroundColor:"black",height:"500px",borderRadius:".5rem",padding:".5rem",overflow:"auto"},children:t.map((function(t){var r;return Object(i.jsxs)("div",{style:{backgroundColor:"wheat",height:"max-contrnt",padding:".5rem",borderRadius:".3rem",marginBottom:".5rem"},children:[Object(i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(i.jsx)("div",{children:Object(i.jsx)("span",{children:t.customerName})}),Object(i.jsxs)("div",{style:{color:"green",fontWeight:"900",cursor:"pointer"},onClick:function(){var r;r=t.reservationId,e(f(r))},children:["Complete Order | \u20b9",(r=t.foodOrders,r.reduce((function(e,t,r,n){return e+t.price}),0))]})]}),Object(i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",flexWrap:"wrap"},children:[Object(i.jsx)("div",{style:{width:"100%"},children:Object(i.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:t.foodOrders.map((function(r){return r.price,Object(i.jsx)("div",{style:{backgroundColor:"white",padding:".2rem",width:"max-content",borderRadius:".3rem",margin:".5rem",cursor:"pointer"},onClick:function(){var n,s;n=t.reservationId,s=r.orderId,e(O({reservationId:n,orderId:s}))},children:r.name},r.orderId)}))})}),Object(i.jsx)("div",{style:{width:"100%"},children:Object(i.jsx)("form",{id:"add-order-form-".concat(t.reservationId),onSubmit:function(r){!function(t,r){t.preventDefault();var n=document.getElementById("add-order-form-".concat(r)),s=new FormData(n).get("food"),o={orderId:Date.now(),name:s,price:Math.ceil(100*Math.random())};e(h({reservationId:r,orderData:o})),n.reset()}(r,t.reservationId)},children:Object(i.jsx)("div",{style:{textAlign:"-webkit-right"},children:Object(i.jsxs)("div",{style:{marginTop:".3rem",padding:".5rem",borderRadius:".5rem",width:"max-content"},children:[Object(i.jsx)("label",{children:"Order Details"}),Object(i.jsx)("br",{}),Object(i.jsx)("input",{required:!0,name:"food",type:"text"}),Object(i.jsx)("br",{}),Object(i.jsx)("input",{style:{marginTop:".5rem"},type:"submit",value:"Add Order"})]})})})})]})]},t.reservationId)}))})})},y=Object(j.c)({name:"reservation",initialState:{reservations:[{reservationId:1635389718482,customerName:"Rahul",reservationDate:"Thu Oct 28 2021",memberCount:2},{reservationId:1635389718483,customerName:"Ajay",reservationDate:"Fri Oct 29 2021",memberCount:5},{reservationId:1635389718484,customerName:"Amit",reservationDate:"Sat Oct 30 2021",memberCount:1}]},reducers:{addReservation:function(e,t){e.reservations.push(t.payload)},deleteReservation:function(e,t){var r=e.reservations.filter((function(e){return e.reservationId!==t.payload.reservationId}));e.reservations=r}}}),C=y.actions,I=C.addReservation,w=C.deleteReservation,k=y.reducer,A=function(){var e=Object(a.b)(),t=Object(a.c)((function(e){return e.reservations.reservations})),r=function(t){e(w({reservationId:t}))};return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{style:{backgroundColor:"black",padding:".5rem",borderRadius:".3rem",height:"366px",overflow:"auto"},children:t.map((function(t){return Object(i.jsxs)("div",{style:{backgroundColor:"wheat",padding:".5rem",marginBottom:".5rem",borderRadius:".3rem"},children:[Object(i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(i.jsx)("div",{style:{cursor:"pointer"},onClick:function(){var n;n=t,e(m(Object(l.a)({},n))),r(n.reservationId)},children:Object(i.jsx)("span",{children:t.customerName})}),Object(i.jsx)("div",{style:{cursor:"pointer",color:"red"},onClick:function(){r(t.reservationId)},children:"Delete"})]}),Object(i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(i.jsx)("div",{children:t.reservationDate}),Object(i.jsxs)("div",{children:["Members : ",t.memberCount]})]})]},t.reservationId)}))}),Object(i.jsx)("div",{style:{height:"18%",marginTop:".3rem",padding:".5rem",borderRadius:".5rem",backgroundColor:"black",color:"white"},children:Object(i.jsxs)("form",{id:"reservation-form",onSubmit:function(t){t.preventDefault();var r=document.getElementById("reservation-form"),n=new FormData(r).get("customerName"),s={reservationId:Date.now(),customerName:n,reservationDate:(new Date).toDateString(),memberCount:Math.ceil(10*Math.random())};e(I(s)),r.reset()},children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("label",{children:"Customer Name"}),Object(i.jsx)("br",{}),Object(i.jsx)("input",{required:!0,name:"customerName",type:"text"})]}),Object(i.jsx)("br",{}),Object(i.jsx)("div",{style:{textAlign:"right"},children:Object(i.jsx)("input",{type:"submit",value:"Add reservation"})})]})})]})},S=function(){return Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{children:"Plain Actions (Non-Asynchronous)"}),Object(i.jsxs)("div",{style:{display:"flex",flexWrap:"wrap"},children:[Object(i.jsx)("div",{className:"reservation-container",children:Object(i.jsx)(A,{})}),Object(i.jsx)("div",{className:"active-customer-container",children:Object(i.jsx)(g,{})})]})]})},M=r(9),E=r(8),D=r(5),R=r.n(D),P=r(7),N=r(27),T=r.n(N),F=Object(j.c)({name:"loader",initialState:{isLoading:!1},reducers:{startLoading:function(e){e.isLoading=!0},stopLoading:function(e){e.isLoading=!1}}}),L=F.actions,B=L.startLoading,U=L.stopLoading,W=F.reducer,q={isError:!1,message:"",changeId:Math.random()},_=Object(j.c)({name:"loader",initialState:q,reducers:{toastErrorMessage:function(e,t){e.isError=!0,e.message=t.payload,e.changeId=Math.random()},toastSuccessMessage:function(e,t){e.isError=!1,e.message=t.payload,e.changeId=Math.random()}}}),G=_.actions,J=G.toastErrorMessage,z=G.toastSuccessMessage,H=_.reducer,X=function(){var e=Object(P.a)(R.a.mark((function e(t){var r;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"",e.next=3,T()(Object(l.a)({baseURL:"https://jsonplaceholder.typicode.com",headers:{Authorization:"Bearer ".concat("","}")}},t));case 3:return r=e.sent,console.log("AXIOS_DATA",r),e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),K=function(){var e=Object(P.a)(R.a.mark((function e(t,r){var n,s,o,c,a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!r){e.next=17;break}return n=r.thunkAPI,s=r.displayAsError,o=r.message,e.prev=2,n.dispatch(B()),e.next=6,X(t);case 6:return c=e.sent,n.dispatch(U()),s&&o?n.dispatch(J(o)):o&&n.dispatch(z(o)),e.abrupt("return",c);case 12:e.prev=12,e.t0=e.catch(2),n?(n.dispatch(J(e.t0.message||"Something went wrong.")),n.dispatch(U())):console.error(e.t0.message);case 15:e.next=27;break;case 17:return e.prev=17,e.next=20,X(t);case 20:return a=e.sent,e.abrupt("return",a);case 24:e.prev=24,e.t1=e.catch(17),console.error(e.t1.message);case 27:case"end":return e.stop()}}),e,null,[[2,12],[17,24]])})));return function(t,r){return e.apply(this,arguments)}}(),Q=K,V=Object(j.b)("users/fetchRandomUsers",function(){var e=Object(P.a)(R.a.mark((function e(t,r){var n,s,o,c;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://randomuser.me/api/?results=".concat(t||1),s={thunkAPI:r,message:"Users fetched successfully.",displayAsError:!1},o={method:"GET",baseURL:"",url:n,data:{}},e.next=5,Q(o,s);case 5:return c=e.sent,e.abrupt("return",c.results);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),Y=Object(j.c)({name:"users",initialState:{users:[]},reducers:{},extraReducers:Object(E.a)({},V.fulfilled,(function(e,t){e.users=t.payload}))}).reducer,Z=function(){var e=Object(a.b)(),t=Object(a.c)((function(e){return e.users.users})),r=Object(s.useState)(5),n=Object(M.a)(r,2),o=n[0],c=n[1];return Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{children:"Thunk Actions (Asynchronous)"}),Object(i.jsxs)("div",{style:{textAlign:"center"},children:[Object(i.jsx)("button",{onClick:function(){c(o-1)},children:"-"}),Object(i.jsxs)("button",{onClick:function(){e(V(o))},children:["Fetch ",o," User"]}),Object(i.jsx)("button",{onClick:function(){c(o+1)},children:"+"})]}),Object(i.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:null===t||void 0===t?void 0:t.map((function(e){return Object(i.jsx)("img",{src:e.picture.large,alt:e.email,className:"user-profile-pic"},e.email)}))})]})},$=(r(59),r(11)),ee=function(){var e=Object(a.c)((function(e){return e.toasterModel})),t=e.changeId,r=e.isError,n=e.message;return Object(s.useEffect)((function(){$.b.dismiss(),n&&(r?$.b.error(n):$.b.success(n))}),[r,n,t]),Object(i.jsx)("div",{children:Object(i.jsx)($.a,{position:"bottom-left",autoClose:1800,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!1,rtl:!1,pauseOnFocusLoss:!0,draggable:!1,pauseOnHover:!0,limit:1})})},te=Object(j.b)("posts/fetchAllPosts",function(){var e=Object(P.a)(R.a.mark((function e(t,r){var n,s,o;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"/posts",n={thunkAPI:r,message:"Posts fetched successfully.",displayAsError:!1},s={method:"GET",url:"/posts",data:{}},e.next=5,Q(s,n);case 5:return o=e.sent,e.abrupt("return",o);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),re=Object(j.b)("posts/updatePost",function(){var e=Object(P.a)(R.a.mark((function e(t,r){var n,s,o,c;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="/posts/".concat(t.id),s={thunkAPI:r,message:"Posts updated successfully.",displayAsError:!1},o={method:"PUT",url:n,data:t},e.next=5,Q(o,s);case 5:return c=e.sent,e.abrupt("return",c);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()),ne=Object(j.c)({name:"posts",initialState:{posts:[],selectedPost:{}},reducers:{updateSelectedPost:function(e,t){e.selectedPost=t.payload}},extraReducers:(n={},Object(E.a)(n,te.fulfilled,(function(e,t){e.posts=t.payload})),Object(E.a)(n,re.fulfilled,(function(e,t){var r=[];e.posts.forEach((function(e){e.id===t.payload.id?r.push(t.payload):r.push(e)})),e.posts=r})),n)}),se=ne.actions.updateSelectedPost,oe=ne.reducer,ce=function(e){var t=e.onClose,r=e.onSave,n=Object(a.c)((function(e){var t;return null===e||void 0===e||null===(t=e.postsModel)||void 0===t?void 0:t.selectedPost})),o=Object(s.useState)(""),c=Object(M.a)(o,2),d=c[0],u=c[1],j=Object(s.useState)(""),b=Object(M.a)(j,2),p=b[0],v=b[1];Object(s.useEffect)((function(){u(n.title),v(n.body)}),[]),console.log(n);return Object(i.jsx)("div",{style:{position:"fixed",top:"0",bottom:"0",right:"0",left:"0",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"rgba(70,70,70,.7)"},children:Object(i.jsx)("div",{className:"edit-post-modal-content",children:Object(i.jsxs)("form",{id:"edit-post-form",onSubmit:function(e){e.preventDefault();var t=document.getElementById("edit-post-form"),s=new FormData(t),o=s.get("title"),c=s.get("body");r(Object(l.a)(Object(l.a)({},n),{},{title:o,body:c}))},children:[Object(i.jsxs)("div",{children:[Object(i.jsx)("label",{children:"Title"}),Object(i.jsx)("br",{}),Object(i.jsx)("input",{required:!0,type:"text",name:"title",onChange:function(e){u(e.target.value)},value:d})]}),Object(i.jsx)("br",{}),Object(i.jsxs)("div",{children:[Object(i.jsx)("label",{children:"Body"}),Object(i.jsx)("br",{}),Object(i.jsx)("input",{required:!0,type:"text",name:"body",onChange:function(e){v(e.target.value)},value:p})]}),Object(i.jsx)("br",{}),Object(i.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(i.jsx)("button",{onClick:t,children:"Close"}),Object(i.jsx)("button",{type:"submit",children:"Save"})]})]})})})},ae=function(e){var t=e.title,r=e.body;return Object(i.jsxs)("div",{className:"post-card-container",children:[Object(i.jsx)("div",{children:Object(i.jsx)("b",{children:t})}),Object(i.jsx)("div",{children:Object(i.jsx)("p",{children:r})})]})},ie=function(){var e=Object(a.b)(),t=Object(a.c)((function(e){var t;return null===e||void 0===e||null===(t=e.postsModel)||void 0===t?void 0:t.posts}));console.log("InComponent",t);var r=Object(s.useState)(!1),n=Object(M.a)(r,2),o=n[0],c=n[1],d=function(){c(!1)};return Object(i.jsxs)("div",{children:[Object(i.jsx)("div",{style:{textAlign:"center",marginTop:"4rem",paddingTop:"1rem",borderTop:"1px solid black"},children:Object(i.jsx)("button",{onClick:function(){e(te())},children:"Fetch Posts"})}),Object(i.jsx)("div",{style:{display:"flex",justifyContent:"space-evenly",flexWrap:"wrap"},children:null===t||void 0===t?void 0:t.map((function(t){return Object(i.jsx)("div",{onClick:function(){var r;e(se(r=t)),console.log(r),c(!0)},children:Object(i.jsx)(ae,{title:t.title,body:t.body})},t.id)}))}),o&&Object(i.jsx)(ce,{onClose:function(){d()},onSave:function(t){!function(t){console.log(t),e(re(t)),d()}(t)}})]})};var de=function(){return Object(i.jsxs)("div",{children:[Object(i.jsx)(ee,{}),Object(i.jsx)(d,{}),Object(i.jsx)(S,{}),Object(i.jsx)(Z,{}),Object(i.jsx)(ie,{})]})},ue=Object(j.a)({reducer:{reservations:k,activeCustomers:x,users:Y,loaderModel:W,toasterModel:H,postsModel:oe}});console.log("STORE",ue);ue.dispatch;var le=ue;c.a.render(Object(i.jsx)(a.a,{store:le,children:Object(i.jsx)(de,{})}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.0c1563fb.chunk.js.map