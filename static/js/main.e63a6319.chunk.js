(this.webpackJsonpredux_setup=this.webpackJsonpredux_setup||[]).push([[0],{33:function(e,t,r){},34:function(e,t,r){},60:function(e,t,r){"use strict";r.r(t);var n,i=r(0),s=r(5),o=r.n(s),a=(r(33),r(34),r(2)),c=r(1),d=function(){var e=Object(a.c)((function(e){return e.loaderModel.isLoading}));return Object(c.jsx)(c.Fragment,{children:e&&Object(c.jsx)("div",{style:{top:"0",bottom:"0",right:"0",left:"0",display:"flex",justifyContent:"center",alignItems:"center",position:"fixed",backgroundColor:"rgba(50,50,50,.8)",color:"white",overflow:"hidden"},children:"Loading..."})})},u=r(27),l=r(9),j=r(4),b={activeCustomers:[{reservationId:1635389718481,customerName:"Abhinav Singh",reservationDate:"Thu Oct 28 2021",memberCount:2,foodOrders:[{orderId:Math.random(),name:"Rice",price:Math.ceil(100*Math.random())},{orderId:Math.random(),name:"Chicken Curry",price:Math.ceil(100*Math.random())}]}]},m=Object(j.c)({name:"activeCustomers",initialState:b,reducers:{addActiveCustomer:function(e,t){e.activeCustomers.push(Object(l.a)(Object(l.a)({},t.payload),{},{foodOrders:[]}))},deleteActiveCustomer:function(e,t){var r=e.activeCustomers.filter((function(e){return e.reservationId!==t.payload}));e.activeCustomers=r},addFoodOrder:function(e,t){var r=t.payload,n=r.reservationId,i=r.orderData,s=[];e.activeCustomers.forEach((function(e){e.reservationId===n&&(e.foodOrders=[].concat(Object(u.a)(e.foodOrders),[i])),s.push(e)})),e.activeCustomers=s},deleteFoodOrder:function(e,t){var r=t.payload,n=r.reservationId,i=r.orderId,s=[];e.activeCustomers.forEach((function(e){if(e.reservationId===n){var t=e.foodOrders.filter((function(e){return e.orderId!==i}));e.foodOrders=t}s.push(e)})),e.activeCustomers=s}}}),v=m.actions,h=v.addActiveCustomer,O=v.deleteActiveCustomer,f=v.addFoodOrder,p=v.deleteFoodOrder,x=m.reducer,g=function(){var e=Object(a.b)(),t=Object(a.c)((function(e){return e.activeCustomers.activeCustomers}));return Object(c.jsx)("div",{children:Object(c.jsx)("div",{style:{backgroundColor:"black",height:"500px",borderRadius:".5rem",padding:".5rem",overflow:"auto"},children:t.map((function(t){var r;return Object(c.jsxs)("div",{style:{backgroundColor:"wheat",height:"max-contrnt",padding:".5rem",borderRadius:".3rem",marginBottom:".5rem"},children:[Object(c.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(c.jsx)("div",{children:Object(c.jsx)("span",{children:t.customerName})}),Object(c.jsxs)("div",{style:{color:"green",fontWeight:"900",cursor:"pointer"},onClick:function(){var r;r=t.reservationId,e(O(r))},children:["Complete Order | \u20b9",(r=t.foodOrders,r.reduce((function(e,t,r,n){return e+t.price}),0))]})]}),Object(c.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(c.jsx)("div",{children:Object(c.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:t.foodOrders.map((function(r){return r.price,Object(c.jsx)("div",{style:{backgroundColor:"white",padding:".2rem",width:"max-content",borderRadius:".3rem",margin:".5rem",cursor:"pointer"},onClick:function(){var n,i;n=t.reservationId,i=r.orderId,e(p({reservationId:n,orderId:i}))},children:r.name},r.orderId)}))})}),Object(c.jsx)("div",{children:Object(c.jsx)("form",{id:"add-order-form-".concat(t.reservationId),onSubmit:function(r){!function(t,r){t.preventDefault();var n=document.getElementById("add-order-form-".concat(r)),i=new FormData(n).get("food"),s={orderId:Date.now(),name:i,price:Math.ceil(100*Math.random())};e(f({reservationId:r,orderData:s})),n.reset()}(r,t.reservationId)},children:Object(c.jsx)("div",{style:{textAlign:"-webkit-right"},children:Object(c.jsxs)("div",{style:{marginTop:".3rem",padding:".5rem",borderRadius:".5rem",width:"max-content"},children:[Object(c.jsx)("label",{children:"Order Details"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{required:!0,name:"food",type:"text"}),Object(c.jsx)("input",{type:"submit",value:"Add Order"})]})})})})]})]},t.reservationId)}))})})},y=Object(j.c)({name:"reservation",initialState:{reservations:[{reservationId:1635389718482,customerName:"Rahul",reservationDate:"Thu Oct 28 2021",memberCount:2},{reservationId:1635389718483,customerName:"Ajay",reservationDate:"Fri Oct 29 2021",memberCount:5},{reservationId:1635389718484,customerName:"Amit",reservationDate:"Sat Oct 30 2021",memberCount:1}]},reducers:{addReservation:function(e,t){e.reservations.push(t.payload)},deleteReservation:function(e,t){var r=e.reservations.filter((function(e){return e.reservationId!==t.payload.reservationId}));e.reservations=r}}}),C=y.actions,I=C.addReservation,w=C.deleteReservation,k=y.reducer,D=function(){var e=Object(a.b)(),t=Object(a.c)((function(e){return e.reservations.reservations})),r=function(t){e(w({reservationId:t}))};return Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{style:{backgroundColor:"black",padding:".5rem",borderRadius:".3rem",height:"366px",overflow:"auto"},children:t.map((function(t){return Object(c.jsxs)("div",{style:{backgroundColor:"wheat",padding:".5rem",marginBottom:".5rem",borderRadius:".3rem"},children:[Object(c.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(c.jsx)("div",{style:{cursor:"pointer"},onClick:function(){var n;n=t,e(h(Object(l.a)({},n))),r(n.reservationId)},children:Object(c.jsx)("span",{children:t.customerName})}),Object(c.jsx)("div",{style:{cursor:"pointer",color:"red"},onClick:function(){r(t.reservationId)},children:"Delete"})]}),Object(c.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(c.jsx)("div",{children:t.reservationDate}),Object(c.jsxs)("div",{children:["Members : ",t.memberCount]})]})]},t.reservationId)}))}),Object(c.jsx)("div",{style:{height:"18%",marginTop:".3rem",padding:".5rem",borderRadius:".5rem",backgroundColor:"black",color:"white"},children:Object(c.jsxs)("form",{id:"reservation-form",onSubmit:function(t){t.preventDefault();var r=document.getElementById("reservation-form"),n=new FormData(r).get("customerName"),i={reservationId:Date.now(),customerName:n,reservationDate:(new Date).toDateString(),memberCount:Math.ceil(10*Math.random())};e(I(i)),r.reset()},children:[Object(c.jsxs)("div",{children:[Object(c.jsx)("label",{children:"Customer Name"}),Object(c.jsx)("br",{}),Object(c.jsx)("input",{required:!0,name:"customerName",type:"text"})]}),Object(c.jsx)("br",{}),Object(c.jsx)("div",{style:{textAlign:"right"},children:Object(c.jsx)("input",{type:"submit",value:"Add reservation"})})]})})]})},A=function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"Plain Actions (Non-Asynchronous)"}),Object(c.jsxs)("div",{style:{display:"flex"},children:[Object(c.jsx)("div",{style:{padding:"1rem",borderRight:"1px solid black",width:"30%"},children:Object(c.jsx)(D,{})}),Object(c.jsx)("div",{style:{padding:"1rem",width:"70%"},children:Object(c.jsx)(g,{})})]})]})},M=r(28),R=r(6),E=r(16),N=r.n(E),S=r(25),F=r(26),L=r.n(F),T=Object(j.c)({name:"loader",initialState:{isLoading:!1},reducers:{startLoading:function(e){e.isLoading=!0},stopLoading:function(e){e.isLoading=!1}}}),B=T.actions,W=B.startLoading,q=B.stopLoading,J=T.reducer,P={isError:!1,message:"",changeId:Math.random()},U=Object(j.c)({name:"loader",initialState:P,reducers:{updateToaster:function(e,t){var r=t.payload,n=r.isError,i=r.message;e.isError=n,e.message=i,e.changeId=Math.random()}}}),_=U.actions.updateToaster,H=U.reducer,z=Object(j.b)("users/fetchRandomUsers",function(){var e=Object(S.a)(N.a.mark((function e(t,r){var n,i,s;return N.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.dispatch(W()),e.prev=1,!(t>0)){e.next=13;break}return i="https://randomuser.me/api/?results=".concat(t||1),e.next=6,L.a.get(i);case 6:return s=e.sent,console.log("response",s),r.dispatch(q()),r.dispatch(_({isError:!1,message:"Data fetched successfully."})),e.abrupt("return",(null===s||void 0===s||null===(n=s.data)||void 0===n?void 0:n.results)||[]);case 13:r.dispatch(_({isError:!0,message:"Number of users must be greater than 0."})),r.dispatch(q());case 15:e.next=22;break;case 17:e.prev=17,e.t0=e.catch(1),console.log(e.t0),r.dispatch(q()),r.dispatch(_({isError:!0,message:"Something went wrong please try again."}));case 22:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t,r){return e.apply(this,arguments)}}()),G=Object(j.c)({name:"users",initialState:{users:[]},reducers:{},extraReducers:(n={},Object(R.a)(n,z.pending,(function(e,t){})),Object(R.a)(n,z.fulfilled,(function(e,t){e.users=t.payload})),Object(R.a)(n,z.rejected,(function(e,t){})),n)}).reducer,K=function(){var e=Object(a.b)(),t=Object(a.c)((function(e){return e.users.users})),r=Object(i.useState)(5),n=Object(M.a)(r,2),s=n[0],o=n[1];return Object(c.jsxs)("div",{children:[Object(c.jsx)("h1",{children:"Thunk Actions (Asynchronous)"}),Object(c.jsxs)("div",{style:{textAlign:"center"},children:[Object(c.jsx)("button",{onClick:function(){o(s-1)},children:"-"}),Object(c.jsxs)("button",{onClick:function(){e(z(s))},children:["Fetch ",s," User"]}),Object(c.jsx)("button",{onClick:function(){o(s+1)},children:"+"})]}),Object(c.jsx)("div",{style:{display:"flex",flexWrap:"wrap"},children:null===t||void 0===t?void 0:t.map((function(e){return Object(c.jsx)("img",{src:e.picture.large,alt:e.email,style:{height:"200px",width:"200px",margin:".5rem",borderRadius:"50%"}},e.email)}))})]})},Q=(r(59),r(7)),V=function(){Object(a.b)();var e=Object(a.c)((function(e){return e.toasterModel})),t=e.changeId,r=e.isError,n=e.message;return console.log("DATA",r,n),Object(i.useEffect)((function(){Q.b.dismiss(),n&&(r?Q.b.error(n):Q.b.success(n))}),[r,n,t]),Object(c.jsx)("div",{children:Object(c.jsx)(Q.a,{position:"bottom-left",autoClose:1200,hideProgressBar:!0,newestOnTop:!1,closeOnClick:!1,rtl:!1,pauseOnFocusLoss:!0,draggable:!1,pauseOnHover:!0,limit:1})})};var X=function(){return Object(c.jsxs)("div",{children:[Object(c.jsx)(V,{}),Object(c.jsx)(d,{}),Object(c.jsx)(A,{}),Object(c.jsx)(K,{})]})},Y=Object(j.a)({reducer:{reservations:k,activeCustomers:x,users:G,loaderModel:J,toasterModel:H}});o.a.render(Object(c.jsx)(a.a,{store:Y,children:Object(c.jsx)(X,{})}),document.getElementById("root"))}},[[60,1,2]]]);
//# sourceMappingURL=main.e63a6319.chunk.js.map